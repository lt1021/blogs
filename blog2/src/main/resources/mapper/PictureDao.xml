<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.blog.dao.PictureDao">
    <sql id="picture_column">
        p.id,p.pictureaddress,p.picturedescription,
        p.picturename,p.picturetime,p.imagePath
    </sql>
    <select id="BlogPicture" resultType="Picture">
        select
        <include refid="picture_column"/>
        from t_picture p
    </select>

    <select id="query" resultType="Picture" >
        select  <include refid="picture_column"/>
        from t_picture p
        <where>
            <if test="id != null" >
                id = #{id}
            </if>
        </where>
    </select>



    <select id="get" resultType="Picture">
        select <include refid="picture_column"/>
        from t_picture p
        where id =#{id}
    </select>

    <insert id="insertPicture" keyProperty="id" useGeneratedKeys="true" parameterType="Picture">
        insert t_picture
        (
        pictureaddress,
        picturedescription,
        picturename,
        picturetime,
        imagePath)
        values (#{pictureaddress},#{picturedescription},#{picturename},#{picturetime},#{imagePath});

    </insert>

    <delete id="delete" >
        delete from  t_picture
        where id =#{id}
    </delete>

    <update id="update">
        update  t_picture
        set
            pictureaddress = #{pictureaddress},
            picturedescription = #{picturedescription},
            picturename = #{picturename},
            picturetime = #{picturetime},
            imagePath = #{imagePath}
        where id = #{id};

    </update>

</mapper>